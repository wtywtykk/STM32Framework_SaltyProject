LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;

ENTITY PeripheralBridge IS
	PORT(
		ADBusy:IN STD_LOGIC;
		AD:IN STD_LOGIC_VECTOR(15 downto 0);
		DA:OUT STD_LOGIC_VECTOR(13 downto 0);
		FSMCADD:INOUT STD_LOGIC_VECTOR(5 downto 0);
		FSMCDATA:INOUT STD_LOGIC_VECTOR(15 downto 0);
		NE:IN STD_LOGIC;
		RD:IN STD_LOGIC;
		WR:IN STD_LOGIC;
		BridClk:IN STD_LOGIC;
		NEEXT:OUT STD_LOGIC;
	);
END PeripheralBridge;

ARCHITECTURE Behavioral of PeripheralBridge is
SIGNAL ADBuf:STD_LOGIC_VECTOR(15 downto 0);
BEGIN

PROCESS(RD)
BEGIN
	IF RD='0' and RD'EVENT THEN
		FSMCDATA<=ADBuf;
	ELSE
		FSMCDATA<='ZZZZZZZZZZZZZZZZ';
	END IF;
end process;

end Behavioral;

